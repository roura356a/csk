---
keyword: [节点管理, 添加节点]
---

# 添加已有节点

您可以通过ACK控制台将已有的ECS实例添加到已创建的Kubernetes集群中，目前仅支持添加Worker节点。本文介绍自动添加节点和手动添加节点两种方式。

-   已创建Kubernetes集群。具体操作，请参见[创建Kubernetes托管版集群](/intl.zh-CN/Kubernetes集群用户指南/集群/创建集群/创建Kubernetes托管版集群.md)。
-   您需要将待添加的ECS实例添加到Kubernetes集群自动创建的Worker节点安全组里。

## 使用限制

-   默认情况下，每个集群中最多可包含100个节点。如果您需要添加更多节点，请[提交工单](https://workorder-intl.console.aliyun.com/console.htm)。
-   添加的云服务器必须与集群在同一地域同一VPC下。
-   ACK仅支持添加同一账号下云服务器。
-   ACK支持添加以下操作系统的节点：
    -   Alibaba Cloud Linux 2
    -   CentOS 7.x

        **说明：** 暂不支持CentOS 8.x及以上的操作系统。

    -   Windows Server 2019和Windows Server Core, version 1809及以上

## 自动添加节点

自动添加节点方式会列出当前账号下可用的ECS云服务器，在Web界面进行安装部署，并自动添加到集群。

1.  登录[容器服务管理控制台](https://cs.console.aliyun.com)。

2.  在控制台左侧导航栏中，单击**集群**。

3.  在集群列表页面中，单击目标集群名称或者目标集群右侧**操作**列下的**详情**。

4.  在集群管理页左侧导航栏中，选择**节点管理** \> **节点**。

5.  在节点页面，单击右上角的**添加已有节点**。

6.  在**选择已有云服务器实例**配置项页面，选择自动添加已有云服务器实例。

    选择**添加方式**为**自动添加**，在已有云服务器的列表中，选择所需的ECS云服务器。

7.  单击**下一步**，完成**填写实例信息**。

    |配置项|说明|
    |---|--|
    |**集群ID/名称**|当前要添加的集群信息，已默认配置。|
    |**数据盘挂载**|设置是否将容器和镜像存储在数据盘。    -   如果ECS已挂载数据盘，且最后一块数据盘的文件系统未初始化，系统会自动将该数据盘格式化为ext4，用来存放内容/var/lib/docker、/var/lib/kubelet。

**说明：** 数据盘内原有数据将丢失，请注意备份数据。

    -   如果ECS未挂载数据盘，则不会挂载新的数据盘。 |
    |**保留实例名称**|添加节点时，默认开启**保留实例名称**。如果您不需要保留实例名称，您可以关闭**保留实例名称**，此时会按照自定义节点名称指定的规则来重命名节点。|
    |**实例信息**|添加的云服务器实例的实例ID及实例名称。|

8.  单击**下一步**，在添加已有实例到集群对话框中单击**确定**。


## 手动添加节点

**说明：** 手动添加到ACK集群的ECS节点不会随集群删除而被释放。

手动添加节点方式要求您获取安装命令，登录到对应ECS云服务器上进行安装，每次只能添加一个ECS云服务器。

1.  登录[容器服务管理控制台](https://cs.console.aliyun.com)。

2.  在控制台左侧导航栏中，单击**集群**。

3.  在集群列表页面中，单击目标集群名称或者目标集群右侧**操作**列下的**详情**。

4.  在集群管理页左侧导航栏中，选择**节点管理** \> **节点**。

5.  在节点页面，单击右上角的**添加已有节点**。

6.  在**选择已有云服务器实例**配置项页面，选择手动添加已有云服务器实例。

    选择**添加方式**为**手动添加**，在已有云服务器的列表中，选择所需的ECS云服务器，

7.  单击**下一步**，完成**填写实例信息**。

    |配置项|说明|
    |---|--|
    |**集群ID/名称**|当前要添加的集群信息，已默认配置。|
    |**数据盘挂载**|设置是否将容器和镜像存储在数据盘。    -   如果ECS已挂载数据盘，且最后一块数据盘的文件系统未初始化，系统会自动将该数据盘格式化为ext4，用来存放内容/var/lib/docker、/var/lib/kubelet。

**说明：** 数据盘内原有数据将丢失，请注意备份数据。

    -   如果ECS未挂载数据盘，则不会挂载新的数据盘。 |
    |**保留实例名称**|添加节点时，默认开启**保留实例名称**。如果您不需要保留实例名称，您可以关闭**保留实例名称**，此时会按照自定义节点名称指定的规则来重命名节点。|
    |**实例信息**|添加的云服务器实例的实例ID及实例名称。|

8.  单击**下一步**，进入添加完成页面。在添加完成页面复制执行命令，单击**完成**。

9.  登录[ECS管理控制台](https://ecs.console.aliyun.com)，单击左侧导航栏中的**实例与镜像** \> **实例**，选择集群所在的地域，选择需要添加的ECS实例。

10. 单击ECS实例右侧的**远程连接**。在远程连接与命令对话框，选择远程连接方式后进入ECS远程连接界面。

    关于远程连接方式，请参见下表：

    |远程连接方式|说明|
    |------|--|
    |**VNC远程连接**|关于如何使用VNC远程连接ECS实例，请参见[通过密码认证登录Linux实例](/intl.zh-CN/实例/连接实例/使用VNC连接实例/通过密码认证登录Linux实例.md)或[通过密码认证登录Windows实例](/intl.zh-CN/实例/连接实例/使用VNC连接实例/通过密码认证登录Windows实例.md)。|
    |**发送远程命令（云助手）**|推荐使用，发送远程命令可以帮助您在实例内部快速执行命令，即无需远程连接登录实例，即可完成查看硬盘空间、安装软件、启动停止服务等操作。该功能通过云助手的命令执行功能实现。关于如何安装或激活云助手客户端，请参见[安装云助手客户端](/intl.zh-CN/运维与监控/云助手/配置云助手客户端/安装云助手客户端.md)。|

11. 在ECS实例远程连接界面，根据页面指导，输入[步骤8](#step_7cz_ibv_9eb)保存的命令，单击**执行**开始执行脚本。

    等待脚本执行成功，该云服务器就添加成功。


您可以在集群管理页左侧导航栏中，选择**节点管理** \> **节点**。在节点页面，查看到刚才添加的节点信息。

