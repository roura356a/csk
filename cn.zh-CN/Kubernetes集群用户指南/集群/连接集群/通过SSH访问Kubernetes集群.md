# 通过SSH访问Kubernetes集群

如果您在创建集群时，选择不开放公网SSH访问，您将无法SSH访问Kubernetes集群，而且也无法通过kubectl连接Kubernetes集群。如果创建集群后，您需要SSH访问您的集群，可以手动为ECS实例绑定EIP，并配置安全组规则，开放SSH（22）端口。

由于创建集群所使用的ROS编排模板的版本不同，不同时间点创建的集群开启SSH访问的操作会略有不同，请按照您的集群的创建时间选择不同的操作方法。

有关在创建集群时如何开启SSH访问的具体步骤，请参见[创建集群时绑定EIP](/cn.zh-CN/Kubernetes集群用户指南/集群/连接集群/通过公网访问集群API Server.md)。

## 2017年12月之前创建的集群

1.  登录[容器服务管理控制台](https://cs.console.aliyun.com)。

2.  在控制台左侧导航栏中，单击**集群**。

3.  在集群列表页面，选择目标集群并查看集群名称下面的集群ID。

4.  登录[ROS管理控制台](https://ros.console.aliyun.com)。

5.  在**资源编排 ROS**页面左侧导航栏，单击**资源栈**，选择您的集群所在的地域，在**资源栈名称**搜索框中输入k8s-for-cs-clisterid，搜索您的集群对应的资源栈，并单击右侧的**管理**。

6.  单击左侧导航栏中的**资源**，在资源列表中找到名为k8s\_master\_slb\_internet的资源（该资源为您的集群的公网负载均衡实例）并单击资源ID，页面跳转至您的公网负载均衡实例的详细信息页面。

7.  单击左侧导航栏中的**实例** \> **实例管理**，单击**添加监听**。

8.  添加SSH监听规则。请参见[添加TCP监听](/cn.zh-CN/传统型负载均衡CLB/CLB用户指南/监听/添加TCP监听.md)。

9.  监听创建完成后，您就可以使用该负载均衡的服务地址SSH访问您的集群了。

    ![SSH访问旧集群](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/1475659951/p9054.png)


## 2017年12月之后创建的集群

1.  登录[容器服务管理控制台](https://cs.console.aliyun.com)。

2.  在控制台左侧导航栏中，单击**集群**。

3.  在集群列表页面中，单击目标集群名称或者目标集群右侧**操作**列下的**详情**。

4.  在**集群信息**页面，单击集群资源页签，找到您的**APIServer 负载均衡（SLB）**，并单击左侧实例ID链接。

5.  在负载均衡SLB左侧导航栏，选择**传统型负载均衡CLB（原SLB）** \> **实例管理**，单击**监听**页签，然后单击**添加监听**。

6.  添加SSH监听规则。请参见[添加TCP监听](/cn.zh-CN/传统型负载均衡CLB/CLB用户指南/监听/添加TCP监听.md)。

    监听创建完成后，您就可以使用该负载均衡的服务地址SSH访问您的集群了。

    ![SSH访问新集群](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/1475659951/p9054.png)


