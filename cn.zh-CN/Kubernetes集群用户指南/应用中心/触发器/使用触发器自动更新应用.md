---
keyword: [触发器, 编排模板, 更新应用]
---

# 使用触发器自动更新应用

应用中心触发器可以帮助您完成远程触发应用部署或重新部署操作。本文介绍如何使用触发器自动更新应用。

已创建应用，具体操作，请参见[使用编排模板创建应用](/cn.zh-CN/Kubernetes集群用户指南/应用中心/应用管理/使用编排模板创建应用.md)。

本文以提前创建的Red版本的demo应用为例，将应用的镜像由Red版本修改为Blue版本，然后通过触发器更新应用。最后通过浏览器访问应用，验证使用触发器自动更新应用是否成功。如果应用页面由红色变为蓝色，说明应用镜像由Red版本更新为Blue版本，使用触发器自动更新应用成功。

## 更新编排模板

1.  登录[容器服务管理控制台](https://cs.console.aliyun.com)。

2.  在控制台左侧导航栏中，选择**市场** \> **编排模板**。

3.  在模板列表页面单击demo应用的编排模板下的**详情**。

4.  将模板中的镜像地址改为`registry.cn-hangzhou.aliyuncs.com/acs/rollouts-demo:blue`，然后单击**创建**。


## 更新应用

1.  登录[容器服务管理控制台](https://cs.console.aliyun.com)。

2.  在控制台左侧导航栏中，选择**多集群** \> **应用中心**。

3.  在应用中心页面单击目标应用的**操作**列的**详情**。

4.  在应用详情页面单击**触发器**。

5.  在**触发器**面板单击**创建**，然后单击**复制**，复制触发器URL。

6.  执行以下命令，触发应用自动部署。

    ```
    curl <触发器URL>
    ```

    预期输出：

    ```
    {"code":"200","message":"","requestId":"c811998e-3dda-405c-9564-68726342****"}
    ```


## 结果验证

1.  获取应用的端点。

    1.  登录[容器服务管理控制台](https://cs.console.aliyun.com)。

    2.  在控制台左侧导航栏中，单击**集群**。

    3.  在集群列表页面中，单击目标集群名称或者目标集群右侧**操作**列下的**详情**。

    4.  在集群管理页左侧导航栏中，选择**服务与路由** \> **路由**。

    5.  在路由页面查看demo的端点。

2.  在hosts文件输入以下内容。

    ```
    <端点> app.demo.example.com 
    ```

3.  在浏览器中访问app.demo.example.com。

    浏览器显示以下页面，说明应用已由Red版本更新为Blue版本。

    ![Blue](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/3377548161/p264043.png)


**相关文档**  


[触发器概述](/cn.zh-CN/Kubernetes集群用户指南/应用中心/触发器/触发器概述.md)

[使用Jenkins持续集成自动更新应用]()

[使用容器镜像触发器自动更新应用]()

