IPv6 使用 
============================

IPv4的应用范围虽广，但网络地址资源有限，制约了互联网的发展。IPv6地址不仅可以解决网络地址资源有限的问题，还可以解决多种接入设备连入互联网障碍的问题。目前ECI实例同时支持IPv4和IPv6地址。

IPv6正在公测中，请提交[公测申请试用](https://page.aliyun.com/form/act608662110/index.htm)，可用地域以实际购买页面为准。

为ECI分配IPv6，只需在在创建Pod时增加一个annotation：

    apiVersion: v1
    kind: Pod
    metadata:
      name: nginx
      annotations:
        k8s.aliyun.com/eci-enable-ipv6: "true"
    spec:
      nodeName: virtual-node-eci-0
      containers:
      - name: nginx
        image: nginx



IPv4对比IPv6 
-------------------------------



|  对比项   |                                                                        IPv4                                                                         |                                                                                IPv6                                                                                |
|--------|-----------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 地址长度   | 32位（4个字节）                                                                                                                                           | 128位（16个字节）                                                                                                                                                        |
| 地址数量   | 2\^32个                                                                                                                                              | 2\^128个                                                                                                                                                            |
| 格式     | xxx.xxx.xxx.xxx其中，0≤xxx≤255，每个x都是十进制数，可省略前导零。示例：192.168.1.1                                                                                         | xxxx:xxxx:xxxx:xxxx:xxxx:xxxx:xxxx:xxxx其中，每个x都是十六进制数，可省略前导零。可在地址的文本格式中使用一次双冒号（::），用于指定任意数目的0位。示例：CDCD:0000:0000:0000:8475:1111:3900:2020=CDCD::8475:1111:3900:2020 |
| 地址解析协议 | 通过ARP广播请求帧将IP地址解析为链路层地址                                                                                                                             | 通过多播邻居请求消息将IP地址解析为链路层地址                                                                                                                                            |
| 安全性    | 安全机制建立于应用程序级，无法从IP层来保证网络的安全                                                                                                                         | 支持IP分组的私密和数据完整性，从IP层来保证网络的安全                                                                                                                                       |
| LAN连接  | 通过网络接口到达物理网络                                                                                                                                        | 可与任何以太网适配器配合使用，并且可以通过虚拟以太网在逻辑分区间使用                                                                                                                                 |
| 地址类型   | * 单点广播地址   * 多点广播地址   * 广播地址    | * 单点广播地址   * 多点广播地址   * 任意广播地址                 |



使用限制 
-------------------------

* 每个ECI实例最多只能配置一个IPv6地址。

  

* 目前只有内蒙古地域的ECI实例支持IPv6。

  

* 通过传入cpu/memory方式创建的ECI都支持IPv6，传入ECS规格的方式，支持的实例规格请参见[实例规格族](/cn.zh-CN/实例/实例规格族.md)。

  

* IPv6地址支持VPC内网通信。如果要通过IPv6地址访问公网或被公网访问，您必须在IGW网关页面开通IPv6公网带宽。具体操作，请参见[开通IPv6公网带宽](/cn.zh-CN/用户指南/管理IPv6公网带宽/开通IPv6公网带宽.md)。

  



